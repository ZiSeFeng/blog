(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{357:function(s,n,t){"use strict";t.r(n);var a=t(14),e=Object(a.a)({},function(){var s=this,n=s.$createElement,t=s._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("p",[s._v("结合vue+element-ui+vue-quill+editor二次封装成组件")]),s._v(" "),t("p",[t("strong",[s._v("1.图片上传")])]),s._v(" "),t("h3",{attrs:{id:"分析原因"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分析原因","aria-hidden":"true"}},[s._v("#")]),s._v(" 分析原因")]),s._v(" "),t("p",[s._v("项目中使用vue-quill-editor富文本编辑器，在编辑内容的时候，我们往往会编辑图片，而vue-quill-editor默认的处理方式是直接将图片转成base64格式，导致上传的内容十分庞大，且服务器接受post的数据的大小是有限制的，很有可能就提交失败，造成用户体验差。")]),s._v(" "),t("h3",{attrs:{id:"引入element-ui"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#引入element-ui","aria-hidden":"true"}},[s._v("#")]),s._v(" 引入element-ui")]),s._v(" "),t("p",[s._v("编辑editor.vue文件")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v('<template>\n    <div>\n        \x3c!-- 图片上传组件辅助--\x3e\n        <el-upload\n            class="avatar-uploader"\n            action=""\n            accept="image/jpg, image/jpeg, image/png, image/gif"\n            :http-request="upload"\n            :before-upload="beforeUploadImg"\n            :on-success="uploadSuccess"\n            :on-error="uploadError"\n            :show-file-list="false">\n            <i class="el-icon-plus avatar-uploader-icon"></i>\n        </el-upload>\n    </div>\n</template>\n<script>\n    import axios from \'@/API/\';\n\timport { quillEditor } from "vue-quill-editor";\n\timport COS from "cos-js-sdk-v5";\n\timport Upload from \'@/components/Upload.vue\';\n\timport { addQuillTitle } from \'../utils/quill-title.js\';\n\n\timport "quill/dist/quill.core.css";\n\timport "quill/dist/quill.snow.css";\n\timport "quill/dist/quill.bubble.css";\n\t\n    export default {\n        data() {\n            return {\n            }\n        },\n        methods: {\n            // 上传图片前\n            beforeUpload(res, file) {\n            \tconst isJPG = file.type === \'image/jpg\' || file.type === \'image/png\' || file.type === \'image/jpeg\' \n\t\t        const isLt1M = file.size / 1024 / 1024 < 1\n\t\t        if (!isJPG) {\n\t\t            this.$message.error(\'支持JPG、PNG格式的图片，大小不得超过1M\')\n\t\t        }\n\t\t        if (!isLt1M) {\n\t\t            this.$message.error(\'文件最大不得超过1M\')\n\t\t        } \n\t\t        return isJPG && isLt1M\n            },\n            // 上传图片成功\n            uploadSuccess(res, file) {},\n            // 上传图片失败\n            uploadError(res, file) {},\n            // 上传图片处理过程\n            upload(req){}\n        }\n    }\n<\/script>\n')])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br")])]),t("h3",{attrs:{id:"在editor-vue中引入vue-quill-editor"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在editor-vue中引入vue-quill-editor","aria-hidden":"true"}},[s._v("#")]),s._v(" 在editor.vue中引入vue-quill-editor")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("<template>\n    <div>\n        \x3c!-- 图片上传组件辅助--\x3e\n        <el-upload\n            class=\"avatar-uploader\"\n            action=\"\"\n            accept=\"image/jpg, image/jpeg, image/png, image/gif\"\n            :http-request=\"upload\"\n            :before-upload=\"beforeUploadImg\"\n            :on-success=\"uploadSuccess\"\n            :on-error=\"uploadError\"\n            :show-file-list=\"false\">\n            <i class=\"el-icon-plus avatar-uploader-icon\"></i>\n        </el-upload>\n        <quill-editor  \n            class=\"info-editor\"  \n            v-model=\"content\" \n            ref=\"QuillEditor\" \n            :options=\"editorOption\" \n            @blur=\"onEditorBlur($event)\"\n            @focus=\"onEditorFocus($event)\"\n            @ready=\"onEditorReady($event)\">\n        </quill-editor>\n    </div>\n</template>\n<script>\n    import axios from '@/API/';\n\timport { quillEditor } from \"vue-quill-editor\";\n\timport COS from \"cos-js-sdk-v5\";\n\timport Upload from '@/components/Upload.vue';\n\timport { addQuillTitle } from '../utils/quill-title.js';\n\n\timport \"quill/dist/quill.core.css\";\n\timport \"quill/dist/quill.snow.css\";\n\timport \"quill/dist/quill.bubble.css\";\n\n    // 工具栏配置\n    const toolbarOptions = [\n\t  ['bold', 'italic', 'underline', 'strike'],        // toggled buttons\n\t  ['blockquote', 'code-block'],\n\n\t  [{'header': 1}, {'header': 2}],               // custom button values\n\t  [{'list': 'ordered'}, {'list': 'bullet'}],\n\t  [{'script': 'sub'}, {'script': 'super'}],      // superscript/subscript\n\t  [{'indent': '-1'}, {'indent': '+1'}],          // outdent/indent\n\t  [{'direction': 'rtl'}],                         // text direction\n\n\t  [{'size': ['small', false, 'large', 'huge']}],  // custom dropdown\n\t  [{'header': [1, 2, 3, 4, 5, 6, false]}],\n\n\t  [{'color': []}, {'background': []}],          // dropdown with defaults from theme\n\t  [{'font': []}],\n\t  [{'align': []}],\n\t  ['link', 'image', 'video'],\n\t  ['clean']                                         // remove formatting button\n\t]\n\n    export default {\n        data() {\n            return {\n            \teditorOption: {\n            \t\tplaceholder: '请输入编辑内容',\n            \t\ttheme: 'snow', //主题风格\n            \t\tmodules: {\n            \t\t\ttoolbar: {\n            \t\t\t\tcontainer: toolbarOptions, // 工具栏\n            \t\t\t\thandlers: {\n            \t\t\t\t\t'image': function (value) {\n            \t\t\t\t\t\tif (value) {\n            \t\t\t\t\t\t\tdocument.querySelector('#quill-upload input').click()\n            \t\t\t\t\t\t} else {\n            \t\t\t\t\t\t\tthis.quill.format('image', false);\n            \t\t\t\t\t\t}\n            \t\t\t\t\t}\n            \t\t\t\t}\n            \t\t\t}\n            \t\t}\n            \t}, // 富文本编辑器配置\n            \tcontent: '', //富文本内容\n            }\n        },\n        methods: {\n            // 上传图片前\n            beforeUpload(res, file) {\n            \tconst isJPG = file.type === 'image/jpg' || file.type === 'image/png' || file.type === 'image/jpeg' \n\t\t        const isLt1M = file.size / 1024 / 1024 < 1\n\t\t        if (!isJPG) {\n\t\t            this.$message.error('支持JPG、PNG格式的图片，大小不得超过1M')\n\t\t        }\n\t\t        if (!isLt1M) {\n\t\t            this.$message.error('文件最大不得超过1M')\n\t\t        } \n\t\t        return isJPG && isLt1M\n            },\n            // 上传图片成功\n            uploadSuccess(res, file) {\n            \tlet quill = this.$refs.QuillEditor.quill;\n\t            let length = quill.getSelection().index;\n\t            quill.insertEmbed(length, 'image', url);\n\t            quill.setSelection(length+1)\n            },\n            // 上传图片失败\n            uploadError(res, file) {\n                this.$message.error('图片插入失败')\n            },\n            // 上传图片处理过程\n            upload(req){}\n        }\n    }\n<\/script>\n\n<style scoped>\n.avatar-uploader{\n\tdisplay: none;\n}\n</style>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br"),t("span",{staticClass:"line-number"},[s._v("66")]),t("br"),t("span",{staticClass:"line-number"},[s._v("67")]),t("br"),t("span",{staticClass:"line-number"},[s._v("68")]),t("br"),t("span",{staticClass:"line-number"},[s._v("69")]),t("br"),t("span",{staticClass:"line-number"},[s._v("70")]),t("br"),t("span",{staticClass:"line-number"},[s._v("71")]),t("br"),t("span",{staticClass:"line-number"},[s._v("72")]),t("br"),t("span",{staticClass:"line-number"},[s._v("73")]),t("br"),t("span",{staticClass:"line-number"},[s._v("74")]),t("br"),t("span",{staticClass:"line-number"},[s._v("75")]),t("br"),t("span",{staticClass:"line-number"},[s._v("76")]),t("br"),t("span",{staticClass:"line-number"},[s._v("77")]),t("br"),t("span",{staticClass:"line-number"},[s._v("78")]),t("br"),t("span",{staticClass:"line-number"},[s._v("79")]),t("br"),t("span",{staticClass:"line-number"},[s._v("80")]),t("br"),t("span",{staticClass:"line-number"},[s._v("81")]),t("br"),t("span",{staticClass:"line-number"},[s._v("82")]),t("br"),t("span",{staticClass:"line-number"},[s._v("83")]),t("br"),t("span",{staticClass:"line-number"},[s._v("84")]),t("br"),t("span",{staticClass:"line-number"},[s._v("85")]),t("br"),t("span",{staticClass:"line-number"},[s._v("86")]),t("br"),t("span",{staticClass:"line-number"},[s._v("87")]),t("br"),t("span",{staticClass:"line-number"},[s._v("88")]),t("br"),t("span",{staticClass:"line-number"},[s._v("89")]),t("br"),t("span",{staticClass:"line-number"},[s._v("90")]),t("br"),t("span",{staticClass:"line-number"},[s._v("91")]),t("br"),t("span",{staticClass:"line-number"},[s._v("92")]),t("br"),t("span",{staticClass:"line-number"},[s._v("93")]),t("br"),t("span",{staticClass:"line-number"},[s._v("94")]),t("br"),t("span",{staticClass:"line-number"},[s._v("95")]),t("br"),t("span",{staticClass:"line-number"},[s._v("96")]),t("br"),t("span",{staticClass:"line-number"},[s._v("97")]),t("br"),t("span",{staticClass:"line-number"},[s._v("98")]),t("br"),t("span",{staticClass:"line-number"},[s._v("99")]),t("br"),t("span",{staticClass:"line-number"},[s._v("100")]),t("br"),t("span",{staticClass:"line-number"},[s._v("101")]),t("br"),t("span",{staticClass:"line-number"},[s._v("102")]),t("br"),t("span",{staticClass:"line-number"},[s._v("103")]),t("br"),t("span",{staticClass:"line-number"},[s._v("104")]),t("br"),t("span",{staticClass:"line-number"},[s._v("105")]),t("br"),t("span",{staticClass:"line-number"},[s._v("106")]),t("br"),t("span",{staticClass:"line-number"},[s._v("107")]),t("br"),t("span",{staticClass:"line-number"},[s._v("108")]),t("br"),t("span",{staticClass:"line-number"},[s._v("109")]),t("br"),t("span",{staticClass:"line-number"},[s._v("110")]),t("br"),t("span",{staticClass:"line-number"},[s._v("111")]),t("br"),t("span",{staticClass:"line-number"},[s._v("112")]),t("br"),t("span",{staticClass:"line-number"},[s._v("113")]),t("br"),t("span",{staticClass:"line-number"},[s._v("114")]),t("br"),t("span",{staticClass:"line-number"},[s._v("115")]),t("br"),t("span",{staticClass:"line-number"},[s._v("116")]),t("br")])]),t("h2",{attrs:{id:"_2-编辑器上增加title提示"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-编辑器上增加title提示","aria-hidden":"true"}},[s._v("#")]),s._v(" 2.编辑器上增加title提示")]),s._v(" "),t("p",[s._v("在编辑器上增加一个quill-title.js的工具栏的title的配置文件")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("const titleConfig = {\n  'ql-bold':'加粗',\n  'ql-color':'字体颜色',\n  'ql-font':'字体',\n  'ql-code':'插入代码',\n  'ql-italic':'斜体',\n  'ql-link':'添加链接',\n  'ql-background':'背景颜色',\n  'ql-size':'字体大小',\n  'ql-strike':'删除线',\n  'ql-script':'上标/下标',\n  'ql-underline':'下划线',\n  'ql-blockquote':'引用',\n  'ql-header':'标题',\n  'ql-indent':'缩进',\n  'ql-list':'列表',\n  'ql-align':'文本对齐',\n  'ql-direction':'文本方向',\n  'ql-code-block':'代码块',\n  'ql-formula':'公式',\n  'ql-image':'图片',\n  'ql-video':'视频',\n  'ql-clean':'清除字体样式'\n};\n\n\n\nexport function addQuillTitle(){\n  const oToolBar = document.querySelector('.ql-toolbar'),\n        aButton = oToolBar.querySelectorAll('button'),\n        aSelect =  oToolBar.querySelectorAll('select'),\n        aSpan= oToolBar.querySelectorAll('span');\n  aButton.forEach((item)=>{\n    if(item.className === 'ql-script'){\n      item.value === 'sub' ? item.title = '下标': item.title = '上标';\n    }else if(item.className === 'ql-indent'){\n      item.value === '+1' ? item.title ='向右缩进': item.title ='向左缩进';\n    }else if(item.className === 'ql-list'){\n     item.value==='ordered' ? item.title='有序列表' : item.title='无序列表'\n    }else if(item.className === 'ql-header'){\n     item.value === '1' ? item.title = '标题H1': item.title = '标题H2';\n    }else{\n     item.title = titleConfig[item.classList[0]];\n    }\n  });\n  aSelect.forEach((item)=>{\n    if(item.className!='ql-color'&&item.className!='ql-background'){\n     item.parentNode.title = titleConfig[item.classList[0]];\n    }\n  });\n  aSpan.forEach((item)=>{\n    if(item.classList[0]==='ql-color'){\n      item.title = titleConfig[item.classList[0]];\n    }else if(item.classList[0]==='ql-background'){\n      item.title = titleConfig[item.classList[0]];\n    }\n  });\n}\n\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br")])]),t("h3",{attrs:{id:"在editor-vue中引入quill-title-js"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#在editor-vue中引入quill-title-js","aria-hidden":"true"}},[s._v("#")]),s._v(" 在editor.vue中引入quill-title.js")]),s._v(" "),t("div",{staticClass:"language- line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("<template>\n    <div>\n        \x3c!-- 图片上传组件辅助--\x3e\n        <el-upload\n            class=\"avatar-uploader\"\n            action=\"\"\n            accept=\"image/jpg, image/jpeg, image/png, image/gif\"\n            :http-request=\"upload\"\n            :before-upload=\"beforeUploadImg\"\n            :on-success=\"uploadSuccess\"\n            :on-error=\"uploadError\"\n            :show-file-list=\"false\">\n            <i class=\"el-icon-plus avatar-uploader-icon\"></i>\n        </el-upload>\n        <quill-editor  \n            class=\"info-editor\"  \n            v-model=\"content\" \n            ref=\"QuillEditor\" \n            :options=\"editorOption\" \n            @blur=\"onEditorBlur($event)\"\n            @focus=\"onEditorFocus($event)\"\n            @ready=\"onEditorReady($event)\">\n        </quill-editor>\n    </div>\n</template>\n<script>\n    import axios from '@/API/';\n\timport { quillEditor } from \"vue-quill-editor\";\n\timport COS from \"cos-js-sdk-v5\";\n\timport Upload from '@/components/Upload.vue';\n\timport { addQuillTitle } from '../utils/quill-title.js';\n\n\timport \"quill/dist/quill.core.css\";\n\timport \"quill/dist/quill.snow.css\";\n\timport \"quill/dist/quill.bubble.css\";\n\n    // 工具栏配置\n    const toolbarOptions = [\n\t  ['bold', 'italic', 'underline', 'strike'],        // toggled buttons\n\t  ['blockquote', 'code-block'],\n\n\t  [{'header': 1}, {'header': 2}],               // custom button values\n\t  [{'list': 'ordered'}, {'list': 'bullet'}],\n\t  [{'script': 'sub'}, {'script': 'super'}],      // superscript/subscript\n\t  [{'indent': '-1'}, {'indent': '+1'}],          // outdent/indent\n\t  [{'direction': 'rtl'}],                         // text direction\n\n\t  [{'size': ['small', false, 'large', 'huge']}],  // custom dropdown\n\t  [{'header': [1, 2, 3, 4, 5, 6, false]}],\n\n\t  [{'color': []}, {'background': []}],          // dropdown with defaults from theme\n\t  [{'font': []}],\n\t  [{'align': []}],\n\t  ['link', 'image', 'video'],\n\t  ['clean']                                         // remove formatting button\n\t]\n\n    export default {\n        data() {\n            return {\n            \teditorOption: {\n            \t\tplaceholder: '请输入编辑内容',\n            \t\ttheme: 'snow', //主题风格\n            \t\tmodules: {\n            \t\t\ttoolbar: {\n            \t\t\t\tcontainer: toolbarOptions, // 工具栏\n            \t\t\t\thandlers: {\n            \t\t\t\t\t'image': function (value) {\n            \t\t\t\t\t\tif (value) {\n            \t\t\t\t\t\t\tdocument.querySelector('#quill-upload input').click()\n            \t\t\t\t\t\t} else {\n            \t\t\t\t\t\t\tthis.quill.format('image', false);\n            \t\t\t\t\t\t}\n            \t\t\t\t\t}\n            \t\t\t\t}\n            \t\t\t}\n            \t\t}\n            \t}, // 富文本编辑器配置\n            \tcontent: '', //富文本内容\n            }\n        },\n        mounted(){\n\t        addQuillTitle();\n\t    },\n        methods: {\n            // 上传图片前\n            beforeUpload(res, file) {\n            \tconst isJPG = file.type === 'image/jpg' || file.type === 'image/png' || file.type === 'image/jpeg' \n\t\t        const isLt1M = file.size / 1024 / 1024 < 1\n\t\t        if (!isJPG) {\n\t\t            this.$message.error('支持JPG、PNG格式的图片，大小不得超过1M')\n\t\t        }\n\t\t        if (!isLt1M) {\n\t\t            this.$message.error('文件最大不得超过1M')\n\t\t        } \n\t\t        return isJPG && isLt1M\n            },\n            // 上传图片成功\n            uploadSuccess(res, file) {\n            \tlet quill = this.$refs.QuillEditor.quill;\n\t            let length = quill.getSelection().index;\n\t            quill.insertEmbed(length, 'image', url);\n\t            quill.setSelection(length+1)\n            },\n            // 上传图片失败\n            uploadError(res, file) {\n                this.$message.error('图片插入失败')\n            },\n            // 上传图片处理过程\n            upload(req){}\n        }\n    }\n<\/script>\n\n<style scoped>\n.avatar-uploader{\n\tdisplay: none;\n}\n</style>\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br"),t("span",{staticClass:"line-number"},[s._v("10")]),t("br"),t("span",{staticClass:"line-number"},[s._v("11")]),t("br"),t("span",{staticClass:"line-number"},[s._v("12")]),t("br"),t("span",{staticClass:"line-number"},[s._v("13")]),t("br"),t("span",{staticClass:"line-number"},[s._v("14")]),t("br"),t("span",{staticClass:"line-number"},[s._v("15")]),t("br"),t("span",{staticClass:"line-number"},[s._v("16")]),t("br"),t("span",{staticClass:"line-number"},[s._v("17")]),t("br"),t("span",{staticClass:"line-number"},[s._v("18")]),t("br"),t("span",{staticClass:"line-number"},[s._v("19")]),t("br"),t("span",{staticClass:"line-number"},[s._v("20")]),t("br"),t("span",{staticClass:"line-number"},[s._v("21")]),t("br"),t("span",{staticClass:"line-number"},[s._v("22")]),t("br"),t("span",{staticClass:"line-number"},[s._v("23")]),t("br"),t("span",{staticClass:"line-number"},[s._v("24")]),t("br"),t("span",{staticClass:"line-number"},[s._v("25")]),t("br"),t("span",{staticClass:"line-number"},[s._v("26")]),t("br"),t("span",{staticClass:"line-number"},[s._v("27")]),t("br"),t("span",{staticClass:"line-number"},[s._v("28")]),t("br"),t("span",{staticClass:"line-number"},[s._v("29")]),t("br"),t("span",{staticClass:"line-number"},[s._v("30")]),t("br"),t("span",{staticClass:"line-number"},[s._v("31")]),t("br"),t("span",{staticClass:"line-number"},[s._v("32")]),t("br"),t("span",{staticClass:"line-number"},[s._v("33")]),t("br"),t("span",{staticClass:"line-number"},[s._v("34")]),t("br"),t("span",{staticClass:"line-number"},[s._v("35")]),t("br"),t("span",{staticClass:"line-number"},[s._v("36")]),t("br"),t("span",{staticClass:"line-number"},[s._v("37")]),t("br"),t("span",{staticClass:"line-number"},[s._v("38")]),t("br"),t("span",{staticClass:"line-number"},[s._v("39")]),t("br"),t("span",{staticClass:"line-number"},[s._v("40")]),t("br"),t("span",{staticClass:"line-number"},[s._v("41")]),t("br"),t("span",{staticClass:"line-number"},[s._v("42")]),t("br"),t("span",{staticClass:"line-number"},[s._v("43")]),t("br"),t("span",{staticClass:"line-number"},[s._v("44")]),t("br"),t("span",{staticClass:"line-number"},[s._v("45")]),t("br"),t("span",{staticClass:"line-number"},[s._v("46")]),t("br"),t("span",{staticClass:"line-number"},[s._v("47")]),t("br"),t("span",{staticClass:"line-number"},[s._v("48")]),t("br"),t("span",{staticClass:"line-number"},[s._v("49")]),t("br"),t("span",{staticClass:"line-number"},[s._v("50")]),t("br"),t("span",{staticClass:"line-number"},[s._v("51")]),t("br"),t("span",{staticClass:"line-number"},[s._v("52")]),t("br"),t("span",{staticClass:"line-number"},[s._v("53")]),t("br"),t("span",{staticClass:"line-number"},[s._v("54")]),t("br"),t("span",{staticClass:"line-number"},[s._v("55")]),t("br"),t("span",{staticClass:"line-number"},[s._v("56")]),t("br"),t("span",{staticClass:"line-number"},[s._v("57")]),t("br"),t("span",{staticClass:"line-number"},[s._v("58")]),t("br"),t("span",{staticClass:"line-number"},[s._v("59")]),t("br"),t("span",{staticClass:"line-number"},[s._v("60")]),t("br"),t("span",{staticClass:"line-number"},[s._v("61")]),t("br"),t("span",{staticClass:"line-number"},[s._v("62")]),t("br"),t("span",{staticClass:"line-number"},[s._v("63")]),t("br"),t("span",{staticClass:"line-number"},[s._v("64")]),t("br"),t("span",{staticClass:"line-number"},[s._v("65")]),t("br"),t("span",{staticClass:"line-number"},[s._v("66")]),t("br"),t("span",{staticClass:"line-number"},[s._v("67")]),t("br"),t("span",{staticClass:"line-number"},[s._v("68")]),t("br"),t("span",{staticClass:"line-number"},[s._v("69")]),t("br"),t("span",{staticClass:"line-number"},[s._v("70")]),t("br"),t("span",{staticClass:"line-number"},[s._v("71")]),t("br"),t("span",{staticClass:"line-number"},[s._v("72")]),t("br"),t("span",{staticClass:"line-number"},[s._v("73")]),t("br"),t("span",{staticClass:"line-number"},[s._v("74")]),t("br"),t("span",{staticClass:"line-number"},[s._v("75")]),t("br"),t("span",{staticClass:"line-number"},[s._v("76")]),t("br"),t("span",{staticClass:"line-number"},[s._v("77")]),t("br"),t("span",{staticClass:"line-number"},[s._v("78")]),t("br"),t("span",{staticClass:"line-number"},[s._v("79")]),t("br"),t("span",{staticClass:"line-number"},[s._v("80")]),t("br"),t("span",{staticClass:"line-number"},[s._v("81")]),t("br"),t("span",{staticClass:"line-number"},[s._v("82")]),t("br"),t("span",{staticClass:"line-number"},[s._v("83")]),t("br"),t("span",{staticClass:"line-number"},[s._v("84")]),t("br"),t("span",{staticClass:"line-number"},[s._v("85")]),t("br"),t("span",{staticClass:"line-number"},[s._v("86")]),t("br"),t("span",{staticClass:"line-number"},[s._v("87")]),t("br"),t("span",{staticClass:"line-number"},[s._v("88")]),t("br"),t("span",{staticClass:"line-number"},[s._v("89")]),t("br"),t("span",{staticClass:"line-number"},[s._v("90")]),t("br"),t("span",{staticClass:"line-number"},[s._v("91")]),t("br"),t("span",{staticClass:"line-number"},[s._v("92")]),t("br"),t("span",{staticClass:"line-number"},[s._v("93")]),t("br"),t("span",{staticClass:"line-number"},[s._v("94")]),t("br"),t("span",{staticClass:"line-number"},[s._v("95")]),t("br"),t("span",{staticClass:"line-number"},[s._v("96")]),t("br"),t("span",{staticClass:"line-number"},[s._v("97")]),t("br"),t("span",{staticClass:"line-number"},[s._v("98")]),t("br"),t("span",{staticClass:"line-number"},[s._v("99")]),t("br"),t("span",{staticClass:"line-number"},[s._v("100")]),t("br"),t("span",{staticClass:"line-number"},[s._v("101")]),t("br"),t("span",{staticClass:"line-number"},[s._v("102")]),t("br"),t("span",{staticClass:"line-number"},[s._v("103")]),t("br"),t("span",{staticClass:"line-number"},[s._v("104")]),t("br"),t("span",{staticClass:"line-number"},[s._v("105")]),t("br"),t("span",{staticClass:"line-number"},[s._v("106")]),t("br"),t("span",{staticClass:"line-number"},[s._v("107")]),t("br"),t("span",{staticClass:"line-number"},[s._v("108")]),t("br"),t("span",{staticClass:"line-number"},[s._v("109")]),t("br"),t("span",{staticClass:"line-number"},[s._v("110")]),t("br"),t("span",{staticClass:"line-number"},[s._v("111")]),t("br"),t("span",{staticClass:"line-number"},[s._v("112")]),t("br"),t("span",{staticClass:"line-number"},[s._v("113")]),t("br"),t("span",{staticClass:"line-number"},[s._v("114")]),t("br"),t("span",{staticClass:"line-number"},[s._v("115")]),t("br"),t("span",{staticClass:"line-number"},[s._v("116")]),t("br"),t("span",{staticClass:"line-number"},[s._v("117")]),t("br"),t("span",{staticClass:"line-number"},[s._v("118")]),t("br"),t("span",{staticClass:"line-number"},[s._v("119")]),t("br")])])])},[],!1,null,null,null);n.default=e.exports}}]);