(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{277:function(a,s,t){"use strict";t.r(s);var r=t(7),e=Object(r.a)({},function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h2",{attrs:{id:"_1-xss跨站脚本攻击"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-xss跨站脚本攻击","aria-hidden":"true"}},[a._v("#")]),a._v(" 1.XSS跨站脚本攻击")]),a._v(" "),t("p",[a._v("跨站脚本攻击，英文全称（Cross Site Script）,原本缩写是CSS，但是为了和层叠样式表有所去表，所以在安全领域成为“XSS”\nXSS攻击，通常指黑客通过“HTML注入”篡改了网页，插入了恶意的脚本，从而在用户浏览网页时，控制用户浏览器的一种攻击。")]),a._v(" "),t("h3",{attrs:{id:"_1-1-有几种xss？"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-有几种xss？","aria-hidden":"true"}},[a._v("#")]),a._v(" 1-1.有几种XSS？")]),a._v(" "),t("p",[a._v("XSS根据效果的不同可以分为反射型、存储型、DOM型三种；")]),a._v(" "),t("p",[t("strong",[a._v("反射型XSS")]),a._v("\n反射型XSS只是简单把用户输入的数据“反射”给浏览器，换句话说，黑客往往需要诱使用户“点击 ”一个恶意链接，才能攻击成功。反射型XSS，也叫做“非持久型XSS”")]),a._v(" "),t("p",[t("strong",[a._v("存储型XSS")]),a._v("\n存储型XSS会把用户输入的数据“存储”早服务器。这种XSS具有很强的稳定性。\n常见场景：\n黑客写下一遍包含有恶意JavaScript代码的博客文章，文章发表后，所有访问该博客文章的用户，都会在他们的浏览器中执行这段恶意的JavaScript代码。黑客把恶意的脚本保存在服务器端。\n存储型XSS，\b也称之为“持久型XSS，因为从效果上看时间是比较长的")]),a._v(" "),t("p",[t("strong",[a._v("DOM Based XSS")]),a._v("\n实际上，这种类型的XSS并非按照”数据是否保存在服务器端“来访问，DOM Based XSS从效果上来说也是反射型XSS。出于历史原因，也就把它单利作为一个分类。\n通过修改页面的DOM节点行程XSS，称之为DOM Based XSS。")]),a._v(" "),t("h3",{attrs:{id:"_1-2-xss的防御"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-xss的防御","aria-hidden":"true"}},[a._v("#")]),a._v(" 1-2.XSS的防御")]),a._v(" "),t("p",[t("strong",[a._v("输入过滤")]),a._v("\n对于明确输入类型，例如睡、URL、电话号码、邮件地址等等内容，进行输入过滤还是必要的。既然输入过滤并非完全可靠，我们就要通过”防止浏览器执行恶意代码“来防范XSS。")]),a._v(" "),t("ul",[t("li",[a._v("防止HTML出现诸如")]),a._v(" "),t("li",[a._v("防止JavaScript执行时，执行恶意代码")])]),a._v(" "),t("p",[t("strong",[a._v("预防存储型和放射型XSS攻击")]),a._v("\n存储型和反射型XSS都是在服务端去除恶意代码后，插入到响应HTML里的，攻击者刻意编写的”数据被内嵌到“代码中，被浏览器所执行。")]),a._v(" "),t("p",[a._v("预防措施：")]),a._v(" "),t("ul",[t("li",[a._v("改成纯前端渲染，把代码和数据分隔开")]),a._v(" "),t("li",[a._v("对HTML做充分转义")])]),a._v(" "),t("p",[t("strong",[a._v("预防DOM型XSS攻击")]),a._v("\nDOM型XSS攻击，实际上就是网站前端JavaScript代码本身不够严谨，把不可信的数据当作代码执行了。\n在使用 "),t("code",[a._v(".innerHTML")]),a._v("、"),t("code",[a._v(".outerHTML")]),a._v("、"),t("code",[a._v("document.write()")]),a._v(" 时要特别小心，不要把不可信的数据作为 HTML 插到页面上，而应尽量使用 "),t("code",[a._v(".textContent")]),a._v("、"),t("code",[a._v(".setAttribute()")]),a._v(" 等。\nDOM 中的内联事件监听器，如 "),t("code",[a._v("location、onclick、onerror、onload、onmouseover")]),a._v(" 等，"),t("code",[a._v("<a>")]),a._v(" 标签的 href 属性，JavaScript 的 "),t("code",[a._v("eval()、setTimeout()、setInterval()")]),a._v(" 等，都能把字符串作为代码运行。如果不可信的数据拼接到字符串中传递给这些 API，很容易产生安全隐患，请务必避免。")]),a._v(" "),t("h3",{attrs:{id:"_1-3-其他xss防范措施"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-3-其他xss防范措施","aria-hidden":"true"}},[a._v("#")]),a._v(" 1-3.其他XSS防范措施**")]),a._v(" "),t("p",[t("strong",[a._v("严格的CSP在XSS的防范中可以起到以下的作用：")])]),a._v(" "),t("ul",[t("li",[a._v("禁止加载外域代码，防止复杂的攻击逻辑")]),a._v(" "),t("li",[a._v("禁止外域提交，网站被攻击后，用户的数据不会泄露到外域")]),a._v(" "),t("li",[a._v("禁止内联脚本执行（规则较严格，目前发现github使用）")]),a._v(" "),t("li",[a._v("禁止未授权的脚本执行（新特性，Google Map 移动版在使用")]),a._v(" "),t("li",[a._v("合理使用上报可以及时发现XSS，利于尽快修复问题")])]),a._v(" "),t("p",[t("strong",[a._v("输入内容长度的控制")]),t("br"),a._v("\n对于不受信任的输入，都应该限定一个合理的长度。虽然无法完全防止XSS攻击，单可以增加XSS攻击的难度")]),a._v(" "),t("p",[t("strong",[a._v("其他安全措施")])]),a._v(" "),t("ul",[t("li",[a._v("HTTP-only Cookie: 禁止JavaScript读取某些敏感Cookie，攻击者完成XSS注入后也无法窃取此Cookie；")]),a._v(" "),t("li",[a._v("验证码：防止脚本冒充用户提交危险操作；")])]),a._v(" "),t("h2",{attrs:{id:"_2-csrf跨站点请求伪造"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-csrf跨站点请求伪造","aria-hidden":"true"}},[a._v("#")]),a._v(" 2.CSRF跨站点请求伪造")]),a._v(" "),t("p",[a._v("CSRF（Cross Site Request Forgery）——跨站点请求伪造：攻击者诱导受害者进入第三方网站，在第三方网站中，向被攻击网站发送跨站请求。利用受害者在被攻击网站已经获取的注册凭证，绕过后台的用户验证，达到冒充用户对被攻击的网站执行某项操作的目的。")]),a._v(" "),t("h3",{attrs:{id:"_2-1-csrf攻击流程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-csrf攻击流程","aria-hidden":"true"}},[a._v("#")]),a._v(" 2-1.CSRF攻击流程")]),a._v(" "),t("p",[a._v("一个典型的CSRF攻击有着如下的流程：")]),a._v(" "),t("ul",[t("li",[a._v("受害者登录 a.com，并保留了登录凭证（Cookie）")]),a._v(" "),t("li",[a._v("攻击者引诱受害者访问了b.com")]),a._v(" "),t("li",[a._v("b.com 向 a.com 发送了一个请求：a.com/act=xx浏览器会默认携带a.com的Cookie")]),a._v(" "),t("li",[a._v("a.com接收到请求后，对请求进行验证，并确认是受害者的凭证，误以为是受害者自己发送的请求")]),a._v(" "),t("li",[a._v("a.com以受害者的名义执行了act=xx")]),a._v(" "),t("li",[a._v("攻击完成，攻击者在受害者不知情的情况下，冒充受害者，让a.com执行了自己定义的操作")])]),a._v(" "),t("h3",{attrs:{id:"_2-2-csrf的攻击类型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-csrf的攻击类型","aria-hidden":"true"}},[a._v("#")]),a._v(" 2-2.CSRF的攻击类型")]),a._v(" "),t("p",[t("strong",[a._v("GET类型CSRF")]),a._v("\n用户可以尝试构造一个GET请求")]),a._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[a._v("http"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("host"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("register"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("?")]),a._v("username"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("test"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("&")]),a._v("password"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v("passwd\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("p",[t("strong",[a._v("POST类型CSRF")]),a._v("\n自动提交表单")]),a._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("form action"),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"/register"')]),a._v(" id"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"register"')]),a._v(" method"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"post"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("input type"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"text"')]),a._v(" name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"username"')]),a._v(" value"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("input type"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"password"')]),a._v(" name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"password"')]),a._v(" value"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('""')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("input type"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"submit"')]),a._v(" name"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"submit"')]),a._v(" value"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"submit"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("form"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("script"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("document"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("form"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("submit")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("script"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br"),t("span",{staticClass:"line-number"},[a._v("4")]),t("br"),t("span",{staticClass:"line-number"},[a._v("5")]),t("br"),t("span",{staticClass:"line-number"},[a._v("6")]),t("br")])]),t("p",[t("strong",[a._v("链接类型的CSRF")]),a._v("\n需要用户点击链接才会触发。这种类型通常是在论坛中发布的图片中嵌入恶意链接，或者以广告的形式诱导用户。")]),a._v(" "),t("h3",{attrs:{id:"_2-3-如何防御csrf？"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-如何防御csrf？","aria-hidden":"true"}},[a._v("#")]),a._v(" 2-3.如何防御CSRF？")]),a._v(" "),t("p",[a._v("CSRF通常从第三方网站发起，被攻击的网站无法防止攻击发生，只能通过增强自己网站针对CSRF的防护能力来提升安全性")]),a._v(" "),t("p",[a._v("防御措施：")]),a._v(" "),t("ul",[t("li",[a._v("验证码")]),a._v(" "),t("li",[a._v("referer check用以检查请求是否合法的”源“")]),a._v(" "),t("li",[a._v("anti CSRF Token")])]),a._v(" "),t("h2",{attrs:{id:"_3-点击劫持（clickjackig）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-点击劫持（clickjackig）","aria-hidden":"true"}},[a._v("#")]),a._v(" 3.点击劫持（clickJackig）")]),a._v(" "),t("p",[a._v("点击劫持是一种视觉上的欺骗手段。攻击者使用一个透明的、不可见的iframe，覆盖在一个网页上，然后诱使用户在该网页上进行操作，此时用户将不知情的情况下点击透明的iframe页面。")]),a._v(" "),t("h3",{attrs:{id:"_3-1-防御clickjacking"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-防御clickjacking","aria-hidden":"true"}},[a._v("#")]),a._v(" 3-1.防御clickjacking")]),a._v(" "),t("p",[t("strong",[a._v("frame busting")]),a._v("\n禁止iframe的嵌套")]),a._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("top"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("location "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!=")]),a._v(" location"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n  top"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("location "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" self"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("location"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])]),t("p",[a._v("常见的frame busting有一下集中方式")]),a._v(" "),t("blockquote",[t("p",[a._v("if (top != self) "),t("br"),a._v("\nif (top.location != self.location) "),t("br"),a._v("\nif (top.location != location) "),t("br"),a._v("\nif (parent.frame.length > 0) "),t("br"),a._v("\nif (window != top) "),t("br"),a._v("\nif (window.top !== window.self) "),t("br"),a._v("\nif (parent && parent != window) "),t("br"),a._v("\nif (parent && parent.frame && parent.frames.length > 0) "),t("br"),a._v("\ntop.location = self.location "),t("br"),a._v("\ntop.locathon.href = document.location.href "),t("br"),a._v("\ntop.location.href = self.location.href "),t("br"),a._v("\ntop.location.replace(self.location) "),t("br"),a._v("\ntop.location.href = window.location.href "),t("br"),a._v("\ntop.location.replace(document.location) "),t("br"),a._v("\ntop.location.href = window.location.href "),t("br"),a._v("\ntop.location.href = 'URL' "),t("br"),a._v("\ndocuement.write('') "),t("br"),a._v("\ntop.location = location "),t("br")])]),a._v(" "),t("p",[t("strong",[a._v("X-Frame-Option")]),a._v("\n使用一个HTTP头——X-Frame-Option")]),a._v(" "),t("ul",[t("li",[a._v("DENY 浏览器会拒绝当前页面加载任何frame页面；")]),a._v(" "),t("li",[a._v("SAMEORIGIN frame页面的地址只能为同源域名下的页面")]),a._v(" "),t("li",[a._v("ALLOW-FROM origin 允许frame加载的页面地址")])]),a._v(" "),t("h2",{attrs:{id:"_4-html5安全"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-html5安全","aria-hidden":"true"}},[a._v("#")]),a._v(" 4.HTML5安全")]),a._v(" "),t("p",[a._v("HTML5中新增的一些标签和属性，使得XSS等Web攻击产生了新的变化。")]),a._v(" "),t("h3",{attrs:{id:"_4-1-iframe的sanbox"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-iframe的sanbox","aria-hidden":"true"}},[a._v("#")]),a._v(" 4-1.iframe的sanbox")]),a._v(" "),t("p",[a._v("iframe的sanbox属性，限制firame标签加载的内容。")]),a._v(" "),t("ul",[t("li",[a._v("allow-same-origin 允许同源访问")]),a._v(" "),t("li",[a._v("allow-top-navigation 允许访问顶层窗口")]),a._v(" "),t("li",[a._v("allow-forms 允许提交表单")]),a._v(" "),t("li",[a._v("allow-scripts 允许执行脚本")])]),a._v(" "),t("h3",{attrs:{id:"_4-2-link-type-的noreferer"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-link-type-的noreferer","aria-hidden":"true"}},[a._v("#")]),a._v(" 4-2.link type 的noreferer")]),a._v(" "),t("p",[a._v("在HTML5中a标签和area标签定义了一个新的link type：noreferer。标签指定了noreferer后，浏览器在请求该标签指定的地址时将不再发送referer。")]),a._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("a href"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"xxx"')]),a._v(" rel"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"noreferer"')]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("a"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v("\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h3",{attrs:{id:"_4-3-canvas"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-canvas","aria-hidden":"true"}},[a._v("#")]),a._v(" 4-3.canvas")]),a._v(" "),t("p",[a._v("canvas标签让JavaScript可以在页面中直接操作图片对象，也可以直接操作像素，构造出图片区域。canvas提供强大的功能，甚至可以用来破解验证码")]),a._v(" "),t("h3",{attrs:{id:"_4-4-其他安全问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-其他安全问题","aria-hidden":"true"}},[a._v("#")]),a._v(" 4-4.其他安全问题")]),a._v(" "),t("p",[t("strong",[a._v("Cross-Origin Resource Sharing")]),a._v("\n浏览器实现的同源策略（Same Origin Policy）限制了脚本的跨域请求。")]),a._v(" "),t("blockquote",[t("p",[a._v("Access-Control-Allow-Origin HTTP Response Header "),t("br"),a._v("\nAccess-Control-Max-Age HTTP Response Header"),t("br"),a._v("\nAccess-Control-Allow-Credentials HTTP Response Header"),t("br")])]),a._v(" "),t("p",[t("strong",[a._v("postMessage——跨窗口传递消息")]),a._v("\npostMessage允许每一个window（包括当前窗口、弹出窗口、iframe等）对象往其他窗口发送文本消息，从而实现跨窗口的消息传递。这个功能是不受同源策略限制的。\n使用postMessage时，有两个安全问题需要注意")]),a._v(" "),t("ul",[t("li",[a._v("在必要时，可以在接受窗口验证Domain，甚至验证URL，以防止来自非法页面的消息。这实际上是在代码中实现一次同源策略的验证过程")]),a._v(" "),t("li",[a._v("在接受消息写入textContent，但是在实际应用中，如果将消息写入innerHTML，甚至直接写入script中，则可能会导致DOM Based XSS的产生。更加”Secure By Default“原则，在接受窗口不应该信任接收到的消息，而需要对消息进行安全检查")])]),a._v(" "),t("p",[t("strong",[a._v("Web Storage")])]),a._v(" "),t("ul",[t("li",[a._v("Session Storage")]),a._v(" "),t("li",[a._v("Local Storage")]),a._v(" "),t("li",[a._v("Cookie\nsession storage关闭浏览器就会失效，local storage则一直存在。Web Storage就像一个非关系型数据库，由Key-Value对组成，可以通过JavaScript进行操作。")])]),a._v(" "),t("h2",{attrs:{id:"_5-注入攻击"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-注入攻击","aria-hidden":"true"}},[a._v("#")]),a._v(" 5.注入攻击")]),a._v(" "),t("p",[a._v("注入攻击的本质，是把用户输入的数据当做代码执行。\n两个关键条件")]),a._v(" "),t("ul",[t("li",[a._v("用户能够控制输入")]),a._v(" "),t("li",[a._v("原本程序要执行的代码，拼接了用户输入的数据")])]),a._v(" "),t("h3",{attrs:{id:"_5-1-sql注入"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-sql注入","aria-hidden":"true"}},[a._v("#")]),a._v(" 5-1.SQL注入")]),a._v(" "),t("p",[a._v("在SQL注入的过程中，如果网站web服务器开启了错误回显，则会为攻击者提供极大的便利，比如攻击者在参数中输入一个单引号”'“，引号执行查询语句的语法错误，服务器直接返回错误信息。")]),a._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[a._v("Microsoft Database Engine 错误 "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'80040e14'")]),a._v("\n字符串的语法错误 在查询表达式"),t("span",{pre:!0,attrs:{class:"token string"}},[a._v("'ID=49'")]),a._v("中，\n"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("/")]),a._v("showdetail"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("asp\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br"),t("span",{staticClass:"line-number"},[a._v("2")]),t("br"),t("span",{staticClass:"line-number"},[a._v("3")]),t("br")])]),t("p",[a._v("从错误信息中可以知道，服务器用的是Access作为数据库，查询语句的伪代码极有可能是")]),a._v(" "),t("div",{staticClass:"language-js line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-js"}},[t("code",[a._v("select xxx "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("from")]),a._v(" table_x where_id "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" $id\n")])]),a._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[a._v("1")]),t("br")])]),t("h3",{attrs:{id:"_5-2-盲注（blind-injection）"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-盲注（blind-injection）","aria-hidden":"true"}},[a._v("#")]),a._v(" 5-2.盲注（blind injection）")]),a._v(" "),t("p",[a._v("所谓的”盲注“，就是在服务器没有错误回显时完成的注入攻击。服务器没有错误回显，对于攻击者来说缺少了非常重要的”调试信息“，所以攻击者必须找到一个方法验证注入的SQL语句是否得到执行。")]),a._v(" "),t("h2",{attrs:{id:"_6加密算法与随机数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_6加密算法与随机数","aria-hidden":"true"}},[a._v("#")]),a._v(" 6加密算法与随机数")]),a._v(" "),t("p",[a._v("常见的加密算法通常分为分组加密算法与流密码加密算法两种。\n"),t("strong",[a._v("分组加密算法")]),a._v("\n分组加密算法基于：分组进行操作，根据算法的不同，每个分组的长度可能不同。\n分组加密算法代表DES、3-DES、Blowfish、IDEA、AES等。")]),a._v(" "),t("p",[t("strong",[a._v("流密码加密算法")]),a._v("\n流密码加密算法：则每次只处理一个字节，密钥独立于消息之外，两者通过异或实现加密与解密。\n流密码加密算法的代表有RC4、ORYX、SEAL等。")])])},[],!1,null,null,null);s.default=e.exports}}]);