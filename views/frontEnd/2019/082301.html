<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>git操作单 | 潇潇风雨</title>
    <meta name="description" content="前端进阶">
    <link rel="icon" href="/blog/favicon.ico">
  <link rel="manifest" href="/blog/manifest.json">
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/blog/assets/css/0.styles.2d56dd03.css" as="style"><link rel="preload" href="/blog/assets/js/app.da97e1cb.js" as="script"><link rel="preload" href="/blog/assets/js/4.69c99a1a.js" as="script"><link rel="preload" href="/blog/assets/js/1.8473d85e.js" as="script"><link rel="preload" href="/blog/assets/js/15.088863d7.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.517d8994.js"><link rel="prefetch" href="/blog/assets/js/11.053ba6b1.js"><link rel="prefetch" href="/blog/assets/js/12.090297e0.js"><link rel="prefetch" href="/blog/assets/js/13.45a541c5.js"><link rel="prefetch" href="/blog/assets/js/14.67c9ba97.js"><link rel="prefetch" href="/blog/assets/js/16.b41cb898.js"><link rel="prefetch" href="/blog/assets/js/17.15453ab0.js"><link rel="prefetch" href="/blog/assets/js/18.81fd6e7b.js"><link rel="prefetch" href="/blog/assets/js/19.91020f3b.js"><link rel="prefetch" href="/blog/assets/js/20.3f6fcdab.js"><link rel="prefetch" href="/blog/assets/js/21.eca4017f.js"><link rel="prefetch" href="/blog/assets/js/22.21cc5b6d.js"><link rel="prefetch" href="/blog/assets/js/23.da692e9a.js"><link rel="prefetch" href="/blog/assets/js/24.2de55086.js"><link rel="prefetch" href="/blog/assets/js/25.1155a063.js"><link rel="prefetch" href="/blog/assets/js/26.98c6dca6.js"><link rel="prefetch" href="/blog/assets/js/27.d79be943.js"><link rel="prefetch" href="/blog/assets/js/28.1cf78687.js"><link rel="prefetch" href="/blog/assets/js/29.097b12b6.js"><link rel="prefetch" href="/blog/assets/js/30.e6601a3e.js"><link rel="prefetch" href="/blog/assets/js/31.0d204f5a.js"><link rel="prefetch" href="/blog/assets/js/32.22f2fecc.js"><link rel="prefetch" href="/blog/assets/js/33.39c605d1.js"><link rel="prefetch" href="/blog/assets/js/34.c4a244d3.js"><link rel="prefetch" href="/blog/assets/js/35.ed17ff85.js"><link rel="prefetch" href="/blog/assets/js/36.d13b7168.js"><link rel="prefetch" href="/blog/assets/js/37.3c310080.js"><link rel="prefetch" href="/blog/assets/js/38.7e986d2b.js"><link rel="prefetch" href="/blog/assets/js/5.4c2636b3.js"><link rel="prefetch" href="/blog/assets/js/6.7c40bd3e.js"><link rel="prefetch" href="/blog/assets/js/7.526dd722.js"><link rel="prefetch" href="/blog/assets/js/8.f3cc7ca1.js"><link rel="prefetch" href="/blog/assets/js/9.f1938a4e.js"><link rel="prefetch" href="/blog/assets/js/vendors~flowchart.6d663048.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.2d56dd03.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div><div class="theme-container no-sidebar"><div><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/head.png" alt="潇潇风雨" class="logo"> <span class="site-name">潇潇风雨</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="theme-options"><!----> <div class="dark-theme-options toggle-option"><label for="dark-theme-toggle">Enable Dark Theme?</label> <input id="dark-theme-toggle" type="checkbox" checked="checked"></div></div></div></div> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/category/backEnd.html" class="nav-link"><i class="iconfont undefined"></i>
  backEnd
</a></li><li class="dropdown-item"><!----> <a href="/blog/category/frontEnd.html" class="nav-link"><i class="iconfont undefined"></i>
  frontEnd
</a></li><li class="dropdown-item"><!----> <a href="/blog/category/git.html" class="nav-link"><i class="iconfont undefined"></i>
  git
</a></li><li class="dropdown-item"><!----> <a href="/blog/category/安全.html" class="nav-link"><i class="iconfont undefined"></i>
  安全
</a></li><li class="dropdown-item"><!----> <a href="/blog/category/计算机基础.html" class="nav-link"><i class="iconfont undefined"></i>
  计算机基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/category/develop.html" class="nav-link"><i class="iconfont undefined"></i>
  develop
</a></li></ul></div></div><div class="nav-item"><a href="/blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/blog/notes/frontEnd/" class="nav-link"><i class="iconfont reco-suggestion"></i>
  笔记
</a></div><div class="nav-item"><a href="/blog/timeLine/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.npmjs.com/~zisefeng" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-npm"></i>
  NPM
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/ZiSeFeng" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.jianshu.com/u/ba26da82e3cd" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-jianshu"></i>
  简书
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/maggie_live" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-csdn"></i>
  CSDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://segmentfault.com/u/fengyu_5d5fab349a586/articles" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-sf"></i>
  segmentfault
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://mp.weixin.qq.com/s/n3c9QN0KJhgzuqCNT0EfrA" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-wechat"></i>
  WeChat
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/category/backEnd.html" class="nav-link"><i class="iconfont undefined"></i>
  backEnd
</a></li><li class="dropdown-item"><!----> <a href="/blog/category/frontEnd.html" class="nav-link"><i class="iconfont undefined"></i>
  frontEnd
</a></li><li class="dropdown-item"><!----> <a href="/blog/category/git.html" class="nav-link"><i class="iconfont undefined"></i>
  git
</a></li><li class="dropdown-item"><!----> <a href="/blog/category/安全.html" class="nav-link"><i class="iconfont undefined"></i>
  安全
</a></li><li class="dropdown-item"><!----> <a href="/blog/category/计算机基础.html" class="nav-link"><i class="iconfont undefined"></i>
  计算机基础
</a></li><li class="dropdown-item"><!----> <a href="/blog/category/develop.html" class="nav-link"><i class="iconfont undefined"></i>
  develop
</a></li></ul></div></div><div class="nav-item"><a href="/blog/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/blog/notes/frontEnd/" class="nav-link"><i class="iconfont reco-suggestion"></i>
  笔记
</a></div><div class="nav-item"><a href="/blog/timeLine/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      contact
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://www.npmjs.com/~zisefeng" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-npm"></i>
  NPM
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://github.com/ZiSeFeng" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://www.jianshu.com/u/ba26da82e3cd" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-jianshu"></i>
  简书
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://blog.csdn.net/maggie_live" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-csdn"></i>
  CSDN
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://segmentfault.com/u/fengyu_5d5fab349a586/articles" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-sf"></i>
  segmentfault
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://mp.weixin.qq.com/s/n3c9QN0KJhgzuqCNT0EfrA" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-wechat"></i>
  WeChat
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <!----> </aside> <div><main class="page reco-hide"> <div class="page-title"><h1>git操作单</h1> <hr> <div data-v-8f042278><i class="iconfont reco-account" data-v-8f042278><span data-v-8f042278>maggie</span></i> <i class="iconfont reco-date" data-v-8f042278><span data-v-8f042278>2019-9-21</span></i> <span id="/blog/views/frontEnd/2019/082301.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-543f3870 data-v-8f042278><i class="iconfont reco-eye" style="margin-right: .5rem" data-v-543f3870></i> <a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;" data-v-543f3870></a></span> <i class="iconfont reco-tag tags" data-v-8f042278><span class="tag-item" data-v-8f042278>
      git
    </span></i></div></div> <div class="content__default"><p><strong>版本控制</strong>
git本质是一个分布式版本控制系统，客户端可以完成clone整个仓库，然后进行提交和修改。</p> <h3 id="一、了解github的工作流"><a href="#一、了解github的工作流" aria-hidden="true" class="header-anchor">#</a> 一、了解github的工作流</h3> <p><img src="/blog/assets/img/20190823114905856.62e89226.png" alt="在这里插入图片描述"> <img src="/blog/assets/img/20190823114911483.0b63916a.png" alt="在这里插入图片描述"> <strong>仓库</strong></p> <ol><li>远程仓库(remote)：远程主仓库github；</li> <li>本地仓库(respository/history)：.git文件夹里还包括git自动创建的master分支，并且将HEAD指针指向master分支。使用commit命令可以将暂存区中的文件添加到本地仓库中；</li> <li>暂存区（Index/Stage）：在使用git管理项目文件的时候，其本地的项目文件会多出一个.git的文件夹，将这个.git文件夹称之为版本库。其中.git文件夹中包含了两个部分，一个是暂存区（Index或者Stage）,顾名思义就是暂时存放文件的地方，通常使用add命令将工作区的文件添加到暂存区里;</li> <li>工作区：本地电脑存放项目文件的地方。</li></ol> <h3 id="二、git-add提交到暂存区、出错怎么办？"><a href="#二、git-add提交到暂存区、出错怎么办？" aria-hidden="true" class="header-anchor">#</a> 二、git add提交到暂存区、出错怎么办？</h3> <p>提交流程为：</p> <div class="language-mermaid line-numbers-mode"><pre class="language-text"><code>flowchat
st=&gt;start: Workspace 工作区
git status=&gt;operation: git statut 查看状态
git add=&gt;operation: git add .将所有修改加入暂存区
git commit -m 'first commit'=&gt;operation: git commit -m 'first commit'将代码提交到本地仓库
git push=&gt;operation: git push将本地仓库代码更新到远程仓库
e=&gt;end: Remote
st-&gt;git status-&gt;git add-&gt;git commit -m 'first commit'-&gt;git push-&gt;e
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p><strong>场景1：</strong>
当你改乱了暂存区某个文件的内容，想直接丢弃暂存区的修改时</p> <blockquote><p>git checkout --&lt;文件名&gt;</p></blockquote> <p><strong>场景2：</strong>
当你不但改乱了暂存区某个文件的内容，还添加到了本地仓库时，想丢弃修改</p> <blockquote><p>第一步 git reset HEAD file
第二步 git checkout &lt;文件名&gt;</p></blockquote> <h3 id="三、git-commit提交到本地仓库，出错怎么办？"><a href="#三、git-commit提交到本地仓库，出错怎么办？" aria-hidden="true" class="header-anchor">#</a> 三、git commit提交到本地仓库，出错怎么办？</h3> <h4 id="_1-提交信息出错"><a href="#_1-提交信息出错" aria-hidden="true" class="header-anchor">#</a> 1.提交信息出错</h4> <p>更改<code>commit</code>信息</p> <blockquote><p>git commit --amend -m 'new message'</p></blockquote> <h4 id="_2-漏提交"><a href="#_2-漏提交" aria-hidden="true" class="header-anchor">#</a> 2.漏提交</h4> <p>commit时，遗漏提交部分更新，有两种解决方案</p> <ul><li><p>方案一：再次<code>commit</code>，此时，git上会出现两次<code>commit</code></p> <blockquote><p>git commit -m 'message'</p></blockquote></li> <li><p>方案二：遗漏文件提交到之前<code>commit</code>上。--no-edit表示提交信息不会更改，在git上仅为一次提交</p></li></ul> <blockquote><p>git add missed-file （missed-file 为遗漏提交文件）
git commit --amend --no-edit</p></blockquote> <h4 id="_3-提交错误文件，回退到上一个commit版本，再commit"><a href="#_3-提交错误文件，回退到上一个commit版本，再commit" aria-hidden="true" class="header-anchor">#</a> 3.提交错误文件，回退到上一个commit版本，再commit</h4> <p><strong>git reset</strong>
把暂存区的修改撤销掉<code>unstage</code>，重新放回工作区</p> <blockquote><p>git reset HEAD &lt;文件名&gt;</p></blockquote> <p>git版本回退，回到到特定的<code>commit_id</code>版本，可以通过<code>git log</code>查看提交历史，以便确认要回退到哪个版本<code>commit</code>之后的即为ID</p> <blockquote><p>git reset --hard commit_id</p></blockquote> <p>将版本库回退1个版本，不仅仅是将本地版本库的头指针全部重置到指定版本，也会重置暂存区，并且会将工作区代码也回退到这个版本</p> <blockquote><p>git reset --hard HEAD~1</p></blockquote> <p>修改版本库，保留暂存区，保留工作区
将版本库软回退1个版本，软回退表示将本地版本库的头指针全部重置到指定版本，且将这次提交之后的所有变更都移动到暂存区。</p> <blockquote><p>git reset --soft HEAD~1</p></blockquote> <p><strong>git revert</strong>
撤销某次操作，此次操作之前和之后的<code>commi</code>t和<code>history</code>会保留，并且把这次撤销作为一次最新的提交</p> <p>撤销前一次commit</p> <blockquote><p>git revert HEAD</p></blockquote> <p>撤销前2次commit</p> <blockquote><p>git revert HEAD^</p></blockquote> <p>撤销指定的版本，撤销也会作为一次提交进行保存。</p> <blockquote><p>git revert commit</p></blockquote> <p><code>git revert</code>是提交一个新的版本，将需要<code>revert</code>的版本的内容再方向修改回去，版本递增，不影响之前提交的内容</p> <p><strong><code>git revert</code>和<code>git reset</code>的区别</strong></p> <ul><li><code>git revert</code>是用一次新的commit来回滚之前的commit，<code>git reset</code>是直接删除指定的commit。</li> <li>在回滚这一操作上看，效果差不多。但是在日后继续merge以前的老版本时有区别。因为<code>git revert</code>是用一次逆向的commit“中和”之前的提交，因此日后合并老的branch时，导致这部分改变不会再次出现，但是<code>git rese</code>t直接把某些commit在某个branch上删除，因而和老的branch再次merge时，这些被回滚的commit应该还会被引入。</li> <li><code>git reset</code> 是把HEAD向后移动了一下，而<code>git revert</code>是HEAD继续前进，只是新的commit的内容和要revert的内容正好相反，能够抵消要被revert的内容。</li></ul> <h3 id="四、常用命令"><a href="#四、常用命令" aria-hidden="true" class="header-anchor">#</a> 四、常用命令</h3> <h4 id="_1-初始化"><a href="#_1-初始化" aria-hidden="true" class="header-anchor">#</a> 1.初始化</h4> <ul><li>新建本地仓库<code>git init</code></li> <li>克隆<code>git clone &lt;url&gt;</code></li></ul> <h4 id="_2-提交"><a href="#_2-提交" aria-hidden="true" class="header-anchor">#</a> 2.提交</h4> <ul><li>提交所有<code>git add .</code></li> <li>提交指定文件<code>git add &lt;file1&gt; &lt;file2&gt;</code></li> <li>提交文件夹中所有文件到暂存区<code>git add [dir]</code></li></ul> <h4 id="_3-撤销"><a href="#_3-撤销" aria-hidden="true" class="header-anchor">#</a> 3.撤销</h4> <ul><li>删除工作区文件，并且删除暂存区文件记录<code>git rm &lt;file1&gt; &lt;file2&gt;</code></li> <li>删除暂存区文件，工作区还存在<code>git rm --cached &lt;file&gt;</code></li> <li>取消暂存区已暂存文件<code>git reset HEAD &lt;file</code></li> <li>撤销上一次对文件的操作<code>git checkout --&lt;file&gt;</code></li></ul> <h4 id="_4-暂存"><a href="#_4-暂存" aria-hidden="true" class="header-anchor">#</a> 4.暂存</h4> <ul><li>添加缓存栈： <code>git stash</code> ;</li> <li>查看缓存栈： <code>git stash list</code> ;</li> <li>推出缓存栈： <code>git stash pop</code> ;</li> <li>取出最新缓存：	<code>git stash apply</code>;</li> <li>取出特定缓存内容： <code>git stash apply stash@{1}</code></li></ul> <h4 id="_5-更新文件"><a href="#_5-更新文件" aria-hidden="true" class="header-anchor">#</a> 5.更新文件</h4> <ul><li>重命令文件，并将已改文件提交暂存区：<code>git mv &lt;file-origin&gt; [file-rename&gt;</code>;</li></ul> <h4 id="_6-查看信息"><a href="#_6-查看信息" aria-hidden="true" class="header-anchor">#</a> 6.查看信息</h4> <ul><li>查看当前工作区所有文件的状态: <code>git status</code>;</li> <li>比较工作区中当前文件和暂存区之间的差异，修改之后没有暂存的内容：`git diff``</li> <li>查看提交历史：<code>git log</code>；参数-p展开每次提交的内容差异，用-2显示最近的两次更新，如<code>git log -p -2</code>;</li></ul> <h4 id="_7-提交文件到版本库"><a href="#_7-提交文件到版本库" aria-hidden="true" class="header-anchor">#</a> 7.提交文件到版本库</h4> <ul><li>将暂存区中的文件提交到本地仓库中，即打上新版本：git commit -m &quot;commit_info&quot;;</li> <li>将所有已经使用git管理过的文件暂存后一并提交，跳过add到暂存区的过程：git commit -a -m &quot;commit_info&quot;;</li> <li>提交文件时，发现漏掉几个文件，或者注释写错了，可以撤销上一次提交：git commit --amend;</li></ul> <h4 id="_8-标签"><a href="#_8-标签" aria-hidden="true" class="header-anchor">#</a> 8.标签</h4> <ul><li>列出现在所有的标签：<code>git tag</code>;</li> <li>使用特定的搜索模式列出符合条件的标签，例如只对1.4.2系列的版本感兴趣：<code>git tag -l &quot;v1.4.2.*&quot;</code>;</li> <li>创建一个含附注类型的标签，需要加-a参数，如<code>git tag -a v1.4 -m &quot;my version 1.4&quot;</code>;</li> <li>使用git show命令查看相应标签的版本信息，并连同显示打标签时的提交对象：<code>git show v1.4</code>;</li> <li>如果有自己的私钥，可以使用GPG来签署标签，只需要在命令中使用-s参数：<code>git tag -s v1.5 -m &quot;my signed 1.5 tag&quot;</code>;</li> <li>验证已签署的标签：<code>git tag -v</code>，如<code>git tag -v v1.5</code>;</li> <li>创建一个轻量级标签的话，就直接使用git tag命令即可，连-a,-s以及-m选项都不需要，直接给出标签名字即可，如<code>git tag v1.5</code>;</li> <li>将标签推送到远程仓库中：<code>git push origin</code> ，如<code>git push origin v1.5</code>；</li> <li>将本地所有的标签全部推送到远程仓库中：<code>git push origin --tags</code>;</li></ul> <h4 id="_9-分支"><a href="#_9-分支" aria-hidden="true" class="header-anchor">#</a> 9.分支</h4> <ul><li>创建本地分支 <code>git branch 分支名</code></li> <li>查看本地分支<code>git branch</code></li> <li>查看远程分支 <code>git branch -a</code></li> <li>切换分支 <code>git checkout 分支名</code> (一般修改未提交则无法切换，大小写问题经常会有，可强制切换  <code>git checkout 分支名 -f</code>  非必须慎用)</li> <li>将本地分支推送到远程分支 <code>git push &lt;远程仓库&gt; &lt;本地分支&gt;:&lt;远程分支&gt;</code></li> <li>从远程仓库中抓取本地仓库中没有更新<code>git fetch</code></li> <li>拉取远程分支仓库<code>git pull</code></li> <li>推送本地分支到远程分支<code>git push</code></li> <li>拉取远程新分支 <code>git checkout -b serverfix origin/serverfix</code></li> <li>合并本地分支 <code>git merge hotfix</code>：(将 hotfix 分支合并到当前分支)</li> <li>合并远程分支 <code>git merge origin/serverfix</code></li> <li>删除本地分支 <code>git branch -d hotfix</code>：(删除本地 hotfix 分支)</li> <li>删除远程分支 <code>git push origin --delete serverfix</code></li> <li>移除远程仓库	git remote rm [remote-name]`</li> <li>上传新命名的本地分支：<code>git push origin newName</code>;</li> <li>创建新分支：<code>git branch branchName</code>：(创建名为 branchName 的本地分支)</li> <li>切换到新分支：<code>git checkout branchName</code>：(切换到 branchName 分支)</li> <li>创建并切换分支：<code>git checkout -b branchName</code>：(相当于以上两条命令的合并)</li> <li>查看本地分支：<code>git branch</code></li> <li>查看远程仓库所有分支：<code>git branch -a</code></li> <li>本地分支重命名： <code>git branch -m oldName newName</code></li> <li>重命名远程分支对应的本地分支：<code>git branch -m oldName newName</code></li> <li>把修改后的本地分支与远程分支关联：<code>git branch --set-upstream-to origin/newName</code></li> <li>修改远程仓库在本地的简称：<code>git remote rename [old-name] [new-name]</code></li> <li>查看远程仓库信息：<code>git remote show origin</code></li></ul> <h4 id="_10-查询配置信息"><a href="#_10-查询配置信息" aria-hidden="true" class="header-anchor">#</a> 10.查询配置信息</h4> <ul><li>列出当前配置：<code>git config --list</code></li> <li>列出repository配置：<code>git config --local --list</code></li> <li>列出全局配置：<code>git config --global --list</code></li> <li>列出系统配置：<code>git config --system --list</code></li></ul> <h4 id="_11-配置用户信息"><a href="#_11-配置用户信息" aria-hidden="true" class="header-anchor">#</a> 11.配置用户信息</h4> <ul><li>配置用户名：<code>git config --global user.name &quot;your name&quot;</code>;</li> <li>配置用户邮箱：<code>git config --global user.email &quot;youremail@github.com&quot;</code>;</li></ul> <h4 id="_12-其他配置"><a href="#_12-其他配置" aria-hidden="true" class="header-anchor">#</a> 12.其他配置</h4> <ul><li>配置git命令输出为彩色的：<code>git config --global color.ui auto</code>;</li> <li>配置git使用的文本编辑器：<code>git config --global core.editor vi</code>;</li></ul> <h3 id="六、配置ssh"><a href="#六、配置ssh" aria-hidden="true" class="header-anchor">#</a> 六、配置SSH</h3> <h4 id="_1-查看是否生成了-ssh-公钥"><a href="#_1-查看是否生成了-ssh-公钥" aria-hidden="true" class="header-anchor">#</a> 1. 查看是否生成了 SSH 公钥</h4> <blockquote><p>$ cd ~/.ssh
$ ls
id_rsa      id_rsa.pub      known_hosts</p></blockquote> <p>复制代码其中 id_rsa 是私钥，id_rsa.pub 是公钥。</p> <h4 id="_2-如果没有那就开始生成，设置全局的user-name与user-email"><a href="#_2-如果没有那就开始生成，设置全局的user-name与user-email" aria-hidden="true" class="header-anchor">#</a> 2. 如果没有那就开始生成，设置全局的user.name与user.email</h4> <blockquote><p>git config --list // 查看是否设置了user.name与user.email，没有的话，去设置
// 设置全局的user.name与user.email
git config --global user.name &quot;XX&quot;
git config --global user.email &quot;XX&quot;</p></blockquote> <h4 id="_3-输入-ssh-keygen-即可（或ssh-keygen-t-rsa-c-email-）"><a href="#_3-输入-ssh-keygen-即可（或ssh-keygen-t-rsa-c-email-）" aria-hidden="true" class="header-anchor">#</a> 3. 输入 <code>ssh-keygen</code> 即可（或<code>ssh-keygen -t rsa -C &quot;email&quot;</code>）</h4> <blockquote><p>$ ssh-keygen
Generating public/private rsa key pair.
Enter file in which to save the key (/Users/schacon/.ssh/id_rsa):
Enter passphrase (empty for no passphrase):
Enter same passphrase again:
Your identification has been saved in /Users/schacon/.ssh/id_rsa.
Your public key has been saved in /Users/schacon/.ssh/id_rsa.pub.
The key fingerprint is:</p></blockquote> <h4 id="_4-生成之后获取公钥内容，输入-cat-ssh-id-rsa-pub-即可，-复制ssh-rsa-一直到-local这一整段内容"><a href="#_4-生成之后获取公钥内容，输入-cat-ssh-id-rsa-pub-即可，-复制ssh-rsa-一直到-local这一整段内容" aria-hidden="true" class="header-anchor">#</a> 4. 生成之后获取公钥内容，输入 <code>cat ~/.ssh/id_rsa.pub</code> 即可， 复制<code>ssh-rsa</code> 一直到 .local这一整段内容</h4> <blockquote><p>$ cat ~/.ssh/id_rsa.pub
ssh-rsa AAAAB3NzaC1yc2EAAAABIwAAAQEAklOUpkDHrfHY17SbrmTIpNLTGK9Tjom/BWDSU
GPl+nafzlHDTYW7hdI4yZ5ew18JH4JW9jbhUFrviQzM7xlELEVf4h9lFX5QVkbPppSwg0cda3
Pbv7kOdJ/MTyBlWXFCR+HAo3FXRitBqxiX1nKhXpHAZsMciLq8V6RjsNAQwdsdMFvSlVK/7XA
t3FaoJoAsncM1Q9x5+3V0Ww68/eIFmb1zuUFljQJKprrX88XypNDvjYNby6vw/Pb0rwert/En
mZ+AW4OZPnTPI89ZPmVMLuayrD2cE86Z/il8b+gw3r3+1nKatmIkjn2so1d01QraTlMqVSsbx
NrRFi9wrf+M7Q== schacon@agadorlaptop.local</p></blockquote> <h4 id="_5-打开-gitlab-或者-github，点击头像，找到设置页左侧找到-ssh-keys-按钮并点击，输入刚刚复制的公钥即可"><a href="#_5-打开-gitlab-或者-github，点击头像，找到设置页左侧找到-ssh-keys-按钮并点击，输入刚刚复制的公钥即可" aria-hidden="true" class="header-anchor">#</a> 5. 打开 GitLab 或者 GitHub，点击头像，找到设置页左侧找到 SSH keys 按钮并点击，输入刚刚复制的公钥即可</h4> <p><strong>参考</strong> <a href="http://hungyuhei.github.io/2012/08/07/better-git-commit-graph-using-pull---rebase-and-merge---no-ff.html" target="_blank" rel="noopener noreferrer">洁癖者用 Git：pull --rebase 和 merge --no-ff<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>$npsb;
<a href="https://juejin.im/post/5d5d61e96fb9a06ace5254bd" target="_blank" rel="noopener noreferrer">最常见的 Git 问题和操作清单汇总<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>$nbsp;</p> <p><a href="https://juejin.im/post/5ae072906fb9a07a9e4ce596" target="_blank" rel="noopener noreferrer">git基本操作，一篇文章就够了！<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>$nbsp;</p></div> <!----> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2 months ago</span></div></footer> <!----> </main> <div class="valine-wrapper" data-v-3d4d99c6><div id="valine" data-v-3d4d99c6></div></div></div> <div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;background-color:rgba(231, 234, 241,.5);display:none;" data-v-4fd99a39 data-v-4fd99a39><i class="iconfont reco-up" data-v-4fd99a39></i></div></div></div></div><div class="global-ui"><SWUpdatePopup></SWUpdatePopup></div></div>
    <script src="/blog/assets/js/app.da97e1cb.js" defer></script><script src="/blog/assets/js/4.69c99a1a.js" defer></script><script src="/blog/assets/js/1.8473d85e.js" defer></script><script src="/blog/assets/js/15.088863d7.js" defer></script>
  </body>
</html>
